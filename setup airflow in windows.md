## After installing docker
---
### Verify Docker Installation

_run these in windows powershell_

### Check Docker version


```
docker --version
```
### Verify Docker is running
```
docker run hello-world
```
### ___1)___
```
mkdir airflow-docker-project
```
__Purpose:__ _Creates a new directory (folder) named airflow-docker-project._

__Use case:__ _You're setting up a workspace for a project—likely one involving Apache Airflow and Docker._

### ___2)___
```
cd airflow-docker-project
```
__Purpose:__ _Changes the current working directory to the newly created airflow-docker-project folder._

__Use case:__ _After creating the folder, this command moves you inside it so you can start adding files, 
running scripts, or initializing your project._

### ___3)___
```
Invoke-WebRequest -Uri "https://airflow.apache.org/docs/apache-airflow/stable/docker-compose.yaml" -OutFile "docker-compose.yaml"
```
___Breakdown:___

__Invoke-WebRequest:__ _A PowerShell command used to download content from the web._

__Uri:__ _Specifies the URL of the file you want to download._

__OutFile:__  _Defines the name of the file to save the downloaded content as._

___Result:___
_It downloads the official docker-compose.yaml file for Apache Airflow from the Airflow documentation site and saves it locally as docker-compose.yaml._

_This file contains the configuration for all the Docker services Airflow needs—like the webserver, scheduler, database, and worker containers. Once downloaded, you can use it to spin up your Airflow environment with docker-compose._

### ___4)___

### Creates three directories:
```
mkdir -p ./dags ./logs ./plugins
```

__dags:__ _Where your Airflow *DAG (Directed Acyclic Graph)* files go—these define your workflows._

__logs:__ _Stores logs generated by Airflow tasks._

__plugins:__ _A place to add custom plugins to extend Airflow’s functionality._

_The `-p` flag ensures that the command doesn’t throw an error if the directories already exist._

### ___5)___
```
[System.IO.File]::WriteAllText("your_file.txt", "`$env:AIRFLOW_UID=50000", [System.Text.Encoding]::UTF8)
```
 **you need UTF-8 without Byte Order Mark (BOM)**
 
_Sets an environment variable called AIRFLOW_UID to 50000.This is important for Linux-based Docker containers to ensure the correct file permissions._

### ___6)___
```
docker-compose up airflow-init
```
_Starts up the Airflow services defined in your docker-compose.yml file.The airflow-init service is responsible for:_

___Initializing___ _the Airflow metadata database._

___Creating___ _necessary folders and permissions._

___Setting___ _up the Airflow user and default connections._

### ___7)___
```
docker-compose up -d
```
**What it does:**

`docker-compose up`: Starts all the containers and services specified in your docker-compose.yml file.

`-d` (detached mode): Keeps the containers running in the background so your terminal remains free for other tasks.

### ___8)___ __Access the Airflow UI__

_The Airflow UI will be available at: ```http://localhost:8080```_

_Default credentials:_

___Username:___   _airflow_

___Password:___   _airflow_




### ___9)___  __Docker Compose Commands for Airflow Setup__


```
docker ps
```
___What it does:___ _Lists all running Docker containers along with their container ID, image, status, ports, and names. Useful for checking which services are currently active._

```
docker-compose down
```
___What it does:___ _Stops and removes all containers, networks, and volumes defined in the `docker-compose.yml` file. It’s a clean way to shut down your environment._
```
docker-compose up -d
```
___What it does:___ _docker-compose up: Starts all the containers and services specified in your docker-compose.yml file. -d (detached mode): Keeps the containers running in the background so your terminal remains free for other tasks._
```
docker-compose logs -f scheduler
```
___What it does:___ _Displays real-time logs for the scheduler service. `-f` (follow): Streams the logs continuously, which is helpful for monitoring activity or debugging._
```
docker-compose run airflow-worker airflow dags list
```
___What it does:___ _Runs a one-off command inside the airflow-worker container. airflow dags list: Lists all DAGs currently available in your Airflow environment._


### Stop , remove and reuse the  containers
```
docker-compose down
```
___What it does:___ _Stops and deletes containers but keeps your data intact, so Airflow stays initialized._
```
docker volume ls
```
___What it does:___ _to see if your Airflow volumes are still hanging around._
```
docker-compose up -d
```
___What it does:___ _Starts or recreates containers using existing volumes, preserving your Airflow setup._

### To also remove volumes (including database data)
_use this only when you want to delete the whole container and cleanup the slate_ 
```
docker-compose down -v
```
___What it does:___ _Wipes both containers and volumes, requiring a full Airflow reinitialization._
